{"ast":null,"code":"import React,{useState,useEffect}from'react';const KeyRegistration=_ref=>{let{onRegister,isLoading,currentUser}=_ref;const[publicKey,setPublicKey]=useState('');const[error,setError]=useState('');const[isSubmitting,setIsSubmitting]=useState(false);// Automatically set the wallet address as public key\nuseEffect(()=>{if(currentUser){setPublicKey(currentUser);}},[currentUser]);const handleSubmit=async e=>{e.preventDefault();setError('');// Use wallet address as public key\nconst keyToRegister=currentUser||publicKey.trim();if(!keyToRegister){setError('Wallet address not found. Please reconnect your wallet.');return;}setIsSubmitting(true);try{await onRegister(keyToRegister);}catch(error){setError(error.message||'Failed to register public key');}setIsSubmitting(false);};const useWalletAddress=()=>{if(currentUser){setPublicKey(currentUser);}};return/*#__PURE__*/React.createElement(\"div\",{className:\"key-registration-overlay\"},/*#__PURE__*/React.createElement(\"div\",{className:\"key-registration-modal\"},/*#__PURE__*/React.createElement(\"div\",{className:\"modal-header\"},/*#__PURE__*/React.createElement(\"h2\",null,\"\\uD83D\\uDD10 Register Wallet Address\"),/*#__PURE__*/React.createElement(\"p\",null,\"Your wallet address will be used as a public key for secure messaging on the blockchain.\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"registration-form\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"publicKey\"},\"Your Wallet Address (Public Key):\"),/*#__PURE__*/React.createElement(\"textarea\",{id:\"publicKey\",value:publicKey,onChange:e=>setPublicKey(e.target.value),placeholder:\"Wallet address will appear here...\",rows:3,disabled:isSubmitting,className:error?'error':'',readOnly:true}),/*#__PURE__*/React.createElement(\"small\",{className:\"help-text\"},\"This is your wallet address, which will be used as a unique identifier for messaging.\")),error&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-message\"},/*#__PURE__*/React.createElement(\"span\",null,\"\\u26A0\\uFE0F \",error)),/*#__PURE__*/React.createElement(\"div\",{className:\"form-actions\"},/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:useWalletAddress,className:\"btn-secondary\",disabled:isSubmitting},\"Use Wallet Address\"),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn-primary\",disabled:isSubmitting||!publicKey.trim()},isSubmitting?/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"span\",{className:\"spinner\"}),\"Registering...\"):'Register Wallet Address'))),/*#__PURE__*/React.createElement(\"div\",{className:\"registration-info\"},/*#__PURE__*/React.createElement(\"h3\",null,\"\\uD83D\\uDCCB What happens next?\"),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,\"\\u2705 Your public key will be stored on the Fluent blockchain\"),/*#__PURE__*/React.createElement(\"li\",null,\"\\uD83D\\uDD12 This enables secure messaging with other users\"),/*#__PURE__*/React.createElement(\"li\",null,\"\\uD83D\\uDCB8 A small gas fee will be required for the transaction\"),/*#__PURE__*/React.createElement(\"li\",null,\"\\u23F1\\uFE0F The registration process may take a few moments\")),/*#__PURE__*/React.createElement(\"div\",{className:\"faucet-info\"},/*#__PURE__*/React.createElement(\"h4\",null,\"\\uD83D\\uDCB0 Need testnet ETH?\"),/*#__PURE__*/React.createElement(\"p\",null,\"If you don't have enough ETH for gas fees, get free testnet ETH from the faucet:\"),/*#__PURE__*/React.createElement(\"a\",{href:\"https://testnet.gblend.xyz/\",target:\"_blank\",rel:\"noopener noreferrer\",className:\"faucet-link\"},\"\\uD83D\\uDEB0 Get Free Testnet ETH\"))),isLoading&&/*#__PURE__*/React.createElement(\"div\",{className:\"loading-overlay\"},/*#__PURE__*/React.createElement(\"div\",{className:\"loading-spinner\"},/*#__PURE__*/React.createElement(\"div\",{className:\"spinner large\"}),/*#__PURE__*/React.createElement(\"p\",null,\"Connecting to blockchain...\")))));};export default KeyRegistration;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}