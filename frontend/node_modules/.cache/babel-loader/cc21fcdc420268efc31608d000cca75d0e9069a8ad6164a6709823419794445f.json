{"ast":null,"code":"import _objectSpread from\"C:/Users/Admin/Desktop/fluent_GJ/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';const ErrorPanel=_ref=>{let{errors,onDismiss,className=''}=_ref;const[visibleErrors,setVisibleErrors]=useState([]);useEffect(()=>{if(errors&&errors.length>0){setVisibleErrors(errors);}},[errors]);const handleDismiss=errorId=>{if(onDismiss){onDismiss(errorId);}setVisibleErrors(prev=>prev.filter(error=>error.id!==errorId));};const getErrorIcon=(type,severity)=>{// First check severity for success messages\nif(severity==='success'){return'âœ…';}switch(type){case'wallet':return'ðŸ‘›';case'network':return'ðŸŒ';case'contract':return'ðŸ“„';case'transaction':return'ðŸ’¸';case'validation':return'âš ï¸';case'info':return'â„¹ï¸';default:return'âŒ';}};const getErrorClass=severity=>{switch(severity){case'warning':return'warning';case'info':return'info';case'success':return'success';default:return'error';}};const getActionButton=error=>{switch(error.type){case'wallet':return/*#__PURE__*/React.createElement(\"button\",{className:\"error-action-btn\",onClick:()=>window.location.reload()},\"Reconnect Wallet\");case'network':return/*#__PURE__*/React.createElement(\"button\",{className:\"error-action-btn\",onClick:()=>{if(window.ethereum){window.ethereum.request({method:'wallet_switchEthereumChain',params:[{chainId:'0x51ea'}]// Fluent Testnet\n});}}},\"Switch Network\");case'contract':return/*#__PURE__*/React.createElement(\"button\",{className:\"error-action-btn\",onClick:()=>window.location.reload()},\"Refresh App\");default:return null;}};if(!visibleErrors||visibleErrors.length===0){return null;}return/*#__PURE__*/React.createElement(\"div\",{className:\"error-panel \".concat(className)},visibleErrors.map(error=>/*#__PURE__*/React.createElement(\"div\",{key:error.id,className:\"error-item \".concat(getErrorClass(error.severity))},/*#__PURE__*/React.createElement(\"div\",{className:\"error-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"error-header\"},/*#__PURE__*/React.createElement(\"span\",{className:\"error-icon\"},getErrorIcon(error.type,error.severity)),/*#__PURE__*/React.createElement(\"div\",{className:\"error-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"error-title\"},error.title||'Error'),/*#__PURE__*/React.createElement(\"div\",{className:\"error-message\"},error.message))),error.details&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-details\"},/*#__PURE__*/React.createElement(\"details\",null,/*#__PURE__*/React.createElement(\"summary\",null,\"More details\"),/*#__PURE__*/React.createElement(\"pre\",null,JSON.stringify(error.details,null,2)))),/*#__PURE__*/React.createElement(\"div\",{className:\"error-actions\"},getActionButton(error),/*#__PURE__*/React.createElement(\"button\",{className:\"error-dismiss-btn\",onClick:()=>handleDismiss(error.id),title:\"Dismiss\"},\"\\u2716\\uFE0F\"))),error.autoRemove!==false&&/*#__PURE__*/React.createElement(\"div\",{className:\"error-timer\"},/*#__PURE__*/React.createElement(\"div\",{className:\"timer-bar\"})))));};// Hook for managing errors\nexport const useErrors=()=>{const[errors,setErrors]=useState([]);const addError=errorData=>{const error=_objectSpread({id:Date.now()+Math.random(),timestamp:new Date(),severity:'error',autoRemove:true},errorData);setErrors(prev=>[...prev,error]);// Auto-remove after 10 seconds unless disabled\nif(error.autoRemove!==false){setTimeout(()=>{setErrors(prev=>prev.filter(e=>e.id!==error.id));},10000);}return error.id;};const removeError=errorId=>{setErrors(prev=>prev.filter(error=>error.id!==errorId));};const clearErrors=()=>{setErrors([]);};// Common error helpers\nconst addWalletError=function(message){let details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return addError({type:'wallet',title:'Wallet Error',message,details,severity:'error'});};const addNetworkError=function(message){let details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return addError({type:'network',title:'Network Error',message,details,severity:'error'});};const addContractError=function(message){let details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return addError({type:'contract',title:'Contract Error',message,details,severity:'error'});};const addTransactionError=function(message){let details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return addError({type:'transaction',title:'Transaction Error',message,details,severity:'error'});};const addValidationError=function(message){let details=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return addError({type:'validation',title:'Validation Error',message,details,severity:'warning'});};const addSuccess=function(message){let title=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Success';return addError({type:'success',title,message,severity:'success'});};const addInfo=function(message){let title=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'Information';return addError({type:'info',title,message,severity:'info'});};return{errors,addError,removeError,clearErrors,addWalletError,addNetworkError,addContractError,addTransactionError,addValidationError,addSuccess,addInfo};};export default ErrorPanel;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}